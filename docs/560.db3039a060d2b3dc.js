"use strict";(self.webpackChunkE_commerce_Project=self.webpackChunkE_commerce_Project||[]).push([[560],{6560:(Q,p,a)=>{a.r(p),a.d(p,{RegisterComponent:()=>M});var d=a(6814),l=a(95),e=a(4769),c=a(2333),f=a(1120);function h(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Name Is Required "),e.qZA())}function Z(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Name Min Length is 3 "),e.qZA())}function v(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Name Max Length is 20 "),e.qZA())}function T(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,h,2,0,"p",16),e.YNc(2,Z,2,0,"p",16),e.YNc(3,v,2,0,"p",16),e.qZA()),2&r){const n=e.oxw();let o,t,s;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("name"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("name"))?null:t.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(s=n.registerForm.get("name"))?null:s.getError("maxlength"))}}function I(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Email Is Required "),e.qZA())}function q(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Email Is Invalid "),e.qZA())}function A(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,I,2,0,"p",16),e.YNc(2,q,2,0,"p",16),e.qZA()),2&r){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("email"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("email"))?null:t.getError("email"))}}function w(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Password Is Required "),e.qZA())}function x(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Password Must At Least 6 Characters "),e.qZA())}function F(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,w,2,0,"p",16),e.YNc(2,x,2,0,"p",16),e.qZA()),2&r){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("password"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("password"))?null:t.getError("pattern"))}}function R(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," RePassword Is Required "),e.qZA())}function C(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Password Must Match "),e.qZA())}function E(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,R,2,0,"p",16),e.YNc(2,C,2,0,"p",16),e.qZA()),2&r){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("rePassword"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("rePassword"))?null:t.getError("notMatch"))}}function P(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Phone Is Required "),e.qZA())}function U(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1," Accept Only Egyptian Phone Numbers "),e.qZA())}function N(r,i){if(1&r&&(e.TgZ(0,"div",18),e.YNc(1,P,2,0,"p",16),e.YNc(2,U,2,0,"p",16),e.qZA()),2&r){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("phone"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.registerForm.get("phone"))?null:t.getError("pattern"))}}function J(r,i){1&r&&(e.TgZ(0,"span"),e._UZ(1,"i",19),e.qZA())}function Y(r,i){if(1&r&&(e.TgZ(0,"p",20),e._uU(1),e.qZA()),2&r){const n=e.oxw();e.xp6(1),e.Oqu(n.errorMsg)}}let M=(()=>{class r{constructor(n,o,t){this._AuthService=n,this._Router=o,this._FormBuilder=t,this.errorMsg="",this.isLoading=!1,this.registerForm=this._FormBuilder.group({name:["",[l.kI.required,l.kI.minLength(3),l.kI.maxLength(20)]],email:["",[l.kI.required,l.kI.email]],password:["",[l.kI.required,l.kI.pattern(/^\w{6,}$/)]],rePassword:["",[l.kI.required,l.kI.pattern(/^\w{6,}$/)]],phone:["",[l.kI.required,l.kI.pattern(/^01[0125][0-9]{8}$/)]]},{validators:[this.confirmPassword]})}confirmPassword(n){const o=n.get("password"),t=n.get("rePassword");""==t?.value?t?.setErrors({required:!0}):o?.value!=t?.value&&t?.setErrors({notMatch:!0})}handleForm(){this.isLoading=!0,this.registerForm.valid?this._AuthService.register(this.registerForm.value).subscribe({next:n=>{console.log(n),"success"==n.message&&(this._Router.navigate(["/login"]),this.isLoading=!1)},error:n=>{console.log(n),this.errorMsg=n.error.message,this.isLoading=!1}}):this.registerForm.markAllAsTouched()}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(c.e),e.Y36(f.F0),e.Y36(l.qu))};static#r=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:34,vars:9,consts:[[1,"container","shadow","bg-main-light","p-4","rounded","w-75","mx-auto","my-3"],[3,"formGroup","ngSubmit"],[1,"form-item","my-3"],["for","name"],["formControlName","name","id","name","type","text",1,"form-control"],["class","alert alert-danger my-3",4,"ngIf"],["for","email"],["id","email","formControlName","email","type","email",1,"form-control"],["for","password"],["id","password","formControlName","password","type","password",1,"form-control"],["for","rePassword"],["id","rePassword","formControlName","rePassword","type","password",1,"form-control"],["for","phone"],["id","phone","formControlName","phone","type","tel",1,"form-control"],[1,"clearfix","d-flex","justify-content-end"],["type","submit",1,"btn-main","mt-4",3,"disabled"],[4,"ngIf"],["class","alert alert-danger my-5 py-3",4,"ngIf"],[1,"alert","alert-danger","my-3"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"alert","alert-danger","my-5","py-3"]],template:function(o,t){if(1&o&&(e.TgZ(0,"section",0)(1,"h1"),e._uU(2,"Register Now"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return t.handleForm()}),e.TgZ(4,"div",2)(5,"label",3),e._uU(6,"Name"),e.qZA(),e._UZ(7,"input",4),e.YNc(8,T,4,3,"div",5),e.qZA(),e.TgZ(9,"div",2)(10,"label",6),e._uU(11,"Email"),e.qZA(),e._UZ(12,"input",7),e.YNc(13,A,3,2,"div",5),e.qZA(),e.TgZ(14,"div",2)(15,"label",8),e._uU(16,"Password"),e.qZA(),e._UZ(17,"input",9),e.YNc(18,F,3,2,"div",5),e.qZA(),e.TgZ(19,"div",2)(20,"label",10),e._uU(21,"rePassword"),e.qZA(),e._UZ(22,"input",11),e.YNc(23,E,3,2,"div",5),e.qZA(),e.TgZ(24,"div",2)(25,"label",12),e._uU(26,"Phone"),e.qZA(),e._UZ(27,"input",13),e.YNc(28,N,3,2,"div",5),e.qZA(),e.TgZ(29,"div",14)(30,"button",15),e._uU(31," Register "),e.YNc(32,J,2,0,"span",16),e.qZA()(),e.YNc(33,Y,2,1,"p",17),e.qZA()()),2&o){let s,g,u,m,_;e.xp6(3),e.Q6J("formGroup",t.registerForm),e.xp6(5),e.Q6J("ngIf",((null==(s=t.registerForm.get("name"))?null:s.touched)||(null==(s=t.registerForm.get("name"))||null==s.value?null:s.value.length)>0)&&(null==(s=t.registerForm.get("name"))?null:s.errors)),e.xp6(5),e.Q6J("ngIf",((null==(g=t.registerForm.get("email"))?null:g.touched)||(null==(g=t.registerForm.get("email"))||null==g.value?null:g.value.length)>0)&&(null==(g=t.registerForm.get("email"))?null:g.errors)),e.xp6(5),e.Q6J("ngIf",((null==(u=t.registerForm.get("password"))?null:u.touched)||(null==(u=t.registerForm.get("password"))||null==u.value?null:u.value.length)>0)&&(null==(u=t.registerForm.get("password"))?null:u.errors)),e.xp6(5),e.Q6J("ngIf",((null==(m=t.registerForm.get("rePassword"))?null:m.touched)||(null==(m=t.registerForm.get("rePassword"))||null==m.value?null:m.value.length)>0)&&(null==(m=t.registerForm.get("rePassword"))?null:m.errors)),e.xp6(5),e.Q6J("ngIf",((null==(_=t.registerForm.get("phone"))?null:_.touched)||(null==(_=t.registerForm.get("phone"))||null==_.value?null:_.value.length)>0)&&(null==(_=t.registerForm.get("phone"))?null:_.errors)),e.xp6(2),e.Q6J("disabled",t.registerForm.invalid),e.xp6(2),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",t.errorMsg)}},dependencies:[d.ez,d.O5,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]})}return r})()}}]);